# ============================================================================
# Green QA Platform - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
# ============================================================================

# ============================================================================
# AWS CREDENTIALS
# ============================================================================
# For temporary credentials (ASIA*), all three are required
# For permanent credentials (AKIA*), only KEY_ID and SECRET are needed

AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_SESSION_TOKEN=your-session-token-if-using-temporary-credentials

# Default region (where your pipeline exists)
AWS_DEFAULT_REGION=eu-west-2

# Optional: Execution role ARN
# AWS_EXECUTION_ROLE_ARN=arn:aws:iam::123456789012:role/YourRole

# ============================================================================
# CODEPIPELINE CONFIGURATION
# ============================================================================
# Enable pipeline triggering
CODEPIPELINE_ENABLED=true

# Your CodePipeline name (find in AWS Console â†’ CodePipeline)
CODEPIPELINE_NAME=your-pipeline-name

# Timeout for pipeline start (seconds)
CODEPIPELINE_TIMEOUT=30

# ============================================================================
# CODEBUILD CONFIGURATION (Optional)
# ============================================================================
# Enable CodeBuild triggering instead of CodePipeline
CODEBUILD_ENABLED=false

# CodeBuild project name
# CODEBUILD_PROJECT=your-build-project

# Source version (branch/commit)
# CODEBUILD_SOURCE_VERSION=main

# ============================================================================
# STEP FUNCTIONS CONFIGURATION (Optional)
# ============================================================================
# Enable Step Functions triggering
# STEPFUNCTIONS_ENABLED=false

# State machine ARN
# STEPFUNCTIONS_ARN=arn:aws:states:eu-west-2:123456789012:stateMachine:YourStateMachine

# ============================================================================
# EVENTBRIDGE SCHEDULER (For DEFER recommendations)
# ============================================================================
# Enable EventBridge scheduling for deferred executions
EVENTBRIDGE_ENABLED=false

# Scheduler group name
EVENTBRIDGE_GROUP=green-qa-schedules

# Target ARN (Lambda/CodePipeline to invoke when scheduled)
# EVENTBRIDGE_TARGET_ARN=arn:aws:lambda:eu-west-2:123456789012:function:TriggerPipeline

# IAM Role for scheduler
# EVENTBRIDGE_ROLE_ARN=arn:aws:iam::123456789012:role/EventBridgeSchedulerRole

# ============================================================================
# SCHEDULING BEHAVIOR
# ============================================================================
# Auto-trigger pipeline when recommendation is RUN_NOW
AUTO_TRIGGER_RUN_NOW=true

# Auto-schedule pipeline when recommendation is DEFER
AUTO_SCHEDULE_DEFER=false

# Minimum carbon savings (%) to trigger defer scheduling
MIN_SAVINGS_DEFER=15

# Maximum defer window (hours)
MAX_DEFER_HOURS=24

# Retry configuration
PIPELINE_MAX_RETRIES=3
PIPELINE_RETRY_DELAY=5

# ============================================================================
# NOTIFICATIONS (Optional)
# ============================================================================
# Enable SNS notifications
NOTIFICATIONS_ENABLED=false

# SNS Topic ARN for notifications
# SNS_TOPIC_ARN=arn:aws:sns:eu-west-2:123456789012:green-qa-notifications

# ============================================================================
# DYNAMODB (For storing carbon data and history)
# ============================================================================
DYNAMODB_TABLE=green_qa_carbon_intensity
# TEST_HISTORY_TABLE=green_qa_test_history

# ============================================================================
# EXTERNAL API KEYS (Optional - for enhanced data)
# ============================================================================
# WattTime API (for US regions - requires account)
# WATTTIME_USER=your-username
# WATTTIME_PASSWORD=your-password

# ElectricityMaps API (for global data - free tier available)
# Get your key at: https://www.electricitymaps.com/
# ELECTRICITY_MAPS_TOKEN=your-token

# Ember Climate API (for historical carbon data)
# Get your key at: https://ember-climate.org/data/api/
# EMBER_API_KEY=your-api-key

# ============================================================================
# DASHBOARD CONFIGURATION
# ============================================================================
# For production, set these in your deployment environment
# The dashboard will use demo keys if not set (rate-limited)

# Your deployed API Gateway URL
# API_URL=https://YOUR-API-ID.execute-api.eu-west-2.amazonaws.com/Prod

# ============================================================================
# SAML2AWS (If using SAML authentication)
# ============================================================================
# SAML2AWS_PROFILE=saml
